---
import { t, getNamespace } from "@/i18n/translations";
import type { Locale } from "@/domain";

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
const navItems = getNamespace(locale, "nav");

// Build URL for locale
const getLocalizedUrl = (path: string) => {
  if (locale === "en") {
    return path;
  }
  return `/${locale}${path}`;
};

const currentYear = new Date().getFullYear();
---

<footer class="border-t bg-muted/30">
  <div class="container mx-auto px-4 md:px-6 max-w-7xl py-12 md:py-16">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 md:gap-12">
      {/* Company Info */}
      <div class="md:col-span-2">
        <h3 class="text-lg font-bold text-foreground mb-4">GlobalCore</h3>
        <p class="text-sm text-muted-foreground mb-4 max-w-md">
          {
            locale === "en"
              ? "Resilience Architecture for Critical Systems. Independent consulting for decision-ready architecture."
              : "Resilienz Architektur für kritische Systeme. Unabhängige Beratung für entscheidungsreife Architektur."
          }
        </p>
      </div>

      {/* Navigation */}
      <div>
        <h3 class="text-sm font-semibold text-foreground mb-4">
          {locale === "en" ? "Navigation" : "Navigation"}
        </h3>
        <ul class="space-y-3">
          <li>
            <a
              href={getLocalizedUrl("/")}
              class="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              {navItems.home}
            </a>
          </li>
          <li>
            <a
              href={getLocalizedUrl("/about")}
              class="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              {navItems.about}
            </a>
          </li>
          <li>
            <a
              href={getLocalizedUrl("/services")}
              class="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              {navItems.services}
            </a>
          </li>
          <li>
            <a
              href={getLocalizedUrl("/contact")}
              class="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              {navItems.contact}
            </a>
          </li>
        </ul>
      </div>

      {/* Legal */}
      <div>
        <h3 class="text-sm font-semibold text-foreground mb-4">
          {locale === "en" ? "Legal" : "Rechtliches"}
        </h3>
        <ul class="space-y-3">
          <li>
            <a
              href={getLocalizedUrl("/privacy")}
              class="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              {locale === "en" ? "Privacy Policy" : "Datenschutz"}
            </a>
          </li>
          <li>
            <a
              href={getLocalizedUrl("/imprint")}
              class="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              {locale === "en" ? "Imprint" : "Impressum"}
            </a>
          </li>
        </ul>
      </div>
    </div>

    {/* Copyright */}
    <div class="mt-12 pt-8 border-t">
      <p class="text-sm text-muted-foreground text-center">
        © {currentYear} GlobalCore Consulting Group. {
          locale === "en" ? "All rights reserved." : "Alle Rechte vorbehalten."
        }
      </p>
    </div>
  </div>
</footer>
